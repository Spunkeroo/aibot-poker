<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://embeds.beehiiv.com https://predict-network-ec767-default-rtdb.firebaseio.com https://www.gstatic.com https://apis.google.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' https: data:; frame-src https://embeds.beehiiv.com https://www.youtube.com https://youtube.com; connect-src 'self' https://www.google-analytics.com https://predict-network-ec767-default-rtdb.firebaseio.com https://api.coingecko.com https://*.google-analytics.com;">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>aibot.poker ‚Äî AI poker coach ‚Äî hand analysis, odds calculator & strategy</title>
  <meta name="description" content="AI-powered poker strategy coach. Analyze hands, calculate odds, learn position play, and improve your game. Your personal poker AI.">
  <meta name="keywords" content="aibot.poker, PokerBot, AI bot, poker">
  <meta property="og:title" content="aibot.poker ‚Äî PokerBot">
  <meta property="og:description" content="AI-powered poker strategy coach. Analyze hands, calculate odds, learn position play, and improve your game. Your personal poker AI.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://aibot.poker">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@SpunkArt13">
  <meta name="twitter:title" content="PokerBot ‚Äî aibot.poker">
  <meta name="twitter:description" content="AI poker coach ‚Äî hand analysis, odds calculator & strategy">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üÉè</text></svg>">
  <link rel="canonical" href="https://aibot.poker">
  <link rel="dns-prefetch" href="https://www.googletagmanager.com">
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"SoftwareApplication","name":"PokerBot","url":"https://aibot.poker","description":"AI-powered poker strategy coach. Analyze hands, calculate odds, learn position play, and improve your game. Your personal poker AI.","applicationCategory":"UtilityApplication","operatingSystem":"Web"}</script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    :root{
      --bg:#050508;--surface:#0a0a12;--card:#0e0e18;--card-hover:#121220;
      --border:#1a1a2e;--text:#e8e8f0;--dim:#8888a0;--muted:#555568;
      --accent:#ef4444;--accent-glow:rgba(239,68,68,0.12);
      --green:#10b981;--red:#ef4444;
    }
    html{scroll-behavior:smooth;}
    body{background:var(--bg);color:var(--text);font-family:'Inter',-apple-system,sans-serif;line-height:1.7;-webkit-font-smoothing:antialiased;display:flex;flex-direction:column;min-height:100vh;}
    a{color:var(--accent);text-decoration:none;transition:opacity 0.2s;}
    a:hover{opacity:0.85;}
    .nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);}
    .nav-inner{max-width:1000px;margin:0 auto;padding:0.7rem 1.5rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;}
    .nav-logo{font-size:1.1rem;font-weight:900;letter-spacing:-0.5px;display:flex;align-items:center;gap:0.4rem;}
    .nav-logo .accent{color:var(--accent);}
    .nav-right{display:flex;align-items:center;gap:1rem;}
    .nav-uses{font-size:0.75rem;color:var(--dim);font-weight:600;}
    .nav-uses span{color:var(--accent);font-weight:800;}
    .nav-upgrade{background:var(--accent);color:#fff;padding:0.4rem 0.9rem;border-radius:8px;font-size:0.75rem;font-weight:700;border:none;cursor:pointer;transition:all 0.2s;}
    .nav-upgrade:hover{transform:translateY(-1px);box-shadow:0 4px 12px var(--accent-glow);}
    .site-bar{border-bottom:1px solid var(--border);padding:0.6rem 1.5rem;display:flex;justify-content:center;gap:1.2rem;flex-wrap:wrap;overflow-x:auto;}
    .site-link{display:flex;align-items:center;gap:0.3rem;font-size:0.7rem;font-weight:700;color:var(--dim);transition:color 0.2s;white-space:nowrap;}
    .site-link:hover{color:var(--text);}
    .site-link .dot{width:5px;height:5px;border-radius:50%;display:inline-block;}
    .chat-container{flex:1;max-width:800px;width:100%;margin:0 auto;padding:1rem 1.5rem;display:flex;flex-direction:column;}
    .welcome{text-align:center;padding:3rem 0 2rem;flex-shrink:0;}
    .welcome-icon{font-size:3rem;margin-bottom:0.5rem;}
    .welcome h1{font-size:2.2rem;font-weight:900;letter-spacing:-1.5px;margin-bottom:0.3rem;}
    .welcome h1 .gr{background:linear-gradient(135deg,var(--accent),#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
    .welcome p{color:var(--dim);font-size:0.95rem;max-width:500px;margin:0 auto 1.5rem;}
    .examples{display:flex;flex-wrap:wrap;gap:0.5rem;justify-content:center;}
    .example-btn{background:var(--card);border:1px solid var(--border);color:var(--dim);padding:0.5rem 1rem;border-radius:10px;font-size:0.8rem;font-family:inherit;cursor:pointer;transition:all 0.2s;max-width:280px;text-align:left;}
    .example-btn:hover{border-color:var(--accent);color:var(--text);}
    @media(max-width:600px){.welcome h1{font-size:1.7rem;}}
    .messages{flex:1;overflow-y:auto;padding:1rem 0;display:flex;flex-direction:column;gap:1rem;}
    .msg{max-width:85%;padding:1rem 1.2rem;border-radius:14px;font-size:0.88rem;line-height:1.6;animation:fadeIn 0.3s ease;}
    .msg-user{background:var(--accent);color:#fff;align-self:flex-end;border-bottom-right-radius:4px;}
    .msg-bot{background:var(--card);border:1px solid var(--border);align-self:flex-start;border-bottom-left-radius:4px;position:relative;}
    .msg-bot .msg-actions{display:flex;gap:0.5rem;margin-top:0.75rem;padding-top:0.5rem;border-top:1px solid var(--border);}
    .msg-action{background:var(--surface);border:1px solid var(--border);color:var(--dim);padding:0.3rem 0.7rem;border-radius:6px;font-size:0.7rem;font-family:inherit;cursor:pointer;transition:all 0.2s;}
    .msg-action:hover{border-color:var(--accent);color:var(--text);}
    .typing{display:flex;gap:4px;padding:1rem;align-self:flex-start;}
    .typing span{width:8px;height:8px;background:var(--muted);border-radius:50%;animation:bounce 1.4s infinite;}
    .typing span:nth-child(2){animation-delay:0.2s;}
    .typing span:nth-child(3){animation-delay:0.4s;}
    @keyframes bounce{0%,60%,100%{transform:translateY(0);}30%{transform:translateY(-8px);}}
    @keyframes fadeIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);}}
    .input-area{padding:1rem 0;border-top:1px solid var(--border);flex-shrink:0;}
    .input-wrap{display:flex;gap:0.5rem;background:var(--card);border:1px solid var(--border);border-radius:14px;padding:0.5rem;transition:border-color 0.2s;}
    .input-wrap:focus-within{border-color:var(--accent);}
    .input-wrap input{flex:1;background:transparent;border:none;color:var(--text);font-size:0.9rem;font-family:inherit;padding:0.4rem 0.6rem;outline:none;}
    .input-wrap input::placeholder{color:var(--muted);}
    .send-btn{background:var(--accent);color:#fff;border:none;border-radius:10px;padding:0.5rem 1rem;font-weight:700;font-size:0.85rem;cursor:pointer;transition:all 0.2s;font-family:inherit;}
    .send-btn:hover{transform:translateY(-1px);box-shadow:0 4px 12px var(--accent-glow);}
    .send-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none;box-shadow:none;}
    .modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:500;display:none;align-items:center;justify-content:center;padding:1.5rem;}
    .modal-overlay.active{display:flex;}
    .modal{background:var(--card);border:1px solid var(--border);border-radius:16px;max-width:500px;width:100%;padding:2rem;text-align:center;position:relative;}
    .modal-close{position:absolute;top:1rem;right:1rem;background:var(--surface);border:1px solid var(--border);color:var(--dim);width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1rem;}
    .modal-close:hover{color:var(--text);border-color:var(--accent);}
    .modal h2{font-size:1.4rem;font-weight:900;margin-bottom:0.5rem;}
    .modal p{color:var(--dim);font-size:0.85rem;margin-bottom:1.5rem;}
    .pricing-cards{display:flex;gap:0.75rem;margin-bottom:1.5rem;}
    .price-card{flex:1;background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1rem;cursor:pointer;transition:all 0.2s;}
    .price-card:hover,.price-card.featured{border-color:var(--accent);}
    .price-card.featured{position:relative;}
    .price-card.featured::before{content:'BEST VALUE';position:absolute;top:-8px;left:50%;transform:translateX(-50%);background:var(--accent);color:#fff;font-size:0.55rem;font-weight:800;padding:0.15rem 0.5rem;border-radius:4px;letter-spacing:1px;}
    .price-card .pc-price{font-size:1.4rem;font-weight:900;color:var(--text);}
    .price-card .pc-period{font-size:0.7rem;color:var(--dim);display:block;}
    .price-card .pc-desc{font-size:0.7rem;color:var(--muted);margin-top:0.3rem;}
    .pay-btn{width:100%;padding:0.7rem;border-radius:10px;font-weight:700;font-size:0.9rem;border:none;cursor:pointer;transition:all 0.2s;font-family:inherit;margin-bottom:0.5rem;}
    .pay-btn-stripe{background:var(--accent);color:#fff;}
    .pay-btn-stripe:hover{transform:translateY(-1px);box-shadow:0 4px 12px var(--accent-glow);}
    .pay-btn-crypto{background:var(--surface);border:1px solid var(--border);color:var(--text);}
    .pay-btn-crypto:hover{border-color:var(--accent);}
    .crypto-details{display:none;text-align:left;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:1rem;margin-top:0.5rem;}
    .crypto-details.active{display:block;}
    .crypto-addr{font-family:'JetBrains Mono',monospace;font-size:0.65rem;color:var(--accent);word-break:break-all;cursor:pointer;padding:0.4rem;background:var(--bg);border-radius:6px;margin:0.3rem 0;}
    .crypto-label{font-size:0.7rem;color:var(--dim);font-weight:600;margin-top:0.5rem;}
    .modal-ref{font-size:0.75rem;color:var(--dim);margin-top:1rem;}
    .modal-ref a{color:var(--accent);}
    @media(max-width:500px){.pricing-cards{flex-direction:column;}}
    .footer{border-top:1px solid var(--border);padding:1.5rem;text-align:center;}
    .footer-links{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-bottom:0.75rem;}
    .footer-links a{color:var(--muted);font-size:0.7rem;font-weight:600;}
    .footer-links a:hover{color:var(--text);}
    .footer-copy{font-size:0.65rem;color:var(--muted);}
  </style>
</head>
<body>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-GVNL11PEGP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-GVNL11PEGP');</script>

<nav class="nav">
  <div class="nav-inner">
    <div class="nav-logo">üÉè <span class="accent">PokerBot</span></div>
    <div class="nav-right">
      <div class="nav-uses">Uses today: <span id="useCount">0</span> / <span id="useMax">3</span></div>
      <button class="nav-upgrade" onclick="showPaywall()">Upgrade</button>
    </div>
  </div>
</nav>

<div class="site-bar">
  <a href="https://aibot.beer" class="site-link"><span class="dot" style="background:#d97706;"></span>aibot.beer</a>
  <a href="https://aibot.coupons" class="site-link"><span class="dot" style="background:#10b981;"></span>aibot.coupons</a>
  <a href="https://aibot.courses" class="site-link"><span class="dot" style="background:#14b8a6;"></span>aibot.courses</a>
  <a href="https://aibot.tattoo" class="site-link"><span class="dot" style="background:#ec4899;"></span>aibot.tattoo</a>
  <a href="https://aibot.garden" class="site-link"><span class="dot" style="background:#22c55e;"></span>aibot.garden</a>
  <a href="https://aibot.study" class="site-link"><span class="dot" style="background:#3b82f6;"></span>aibot.study</a>
  <a href="https://aibot.poker" class="site-link" style="color:var(--text);"><span class="dot" style="background:#ef4444;"></span>aibot.poker</a>
  <a href="https://aibot.rest" class="site-link"><span class="dot" style="background:#f97316;"></span>aibot.rest</a>
  <a href="https://aibot.delivery" class="site-link"><span class="dot" style="background:#06b6d4;"></span>aibot.delivery</a>
  <a href="https://aibot.directory" class="site-link"><span class="dot" style="background:#8b5cf6;"></span>aibot.directory</a>
  <a href="https://aibot.forum" class="site-link"><span class="dot" style="background:#eab308;"></span>aibot.forum</a>
  <a href="https://aibot.gay" class="site-link"><span class="dot" style="background:#e879f9;"></span>aibot.gay</a>
  <a href="https://betai.buzz" class="site-link"><span class="dot" style="background:#ff5f1f;"></span>betai.buzz</a>
  <span style="color:var(--muted);padding:0 0.3rem;">|</span>
  <a href="https://stake.com/?c=MyXSehCn" class="site-link" target="_blank" rel="noopener" style="color:#1475e1;">Stake.com</a>
  <a href="https://spunk.bet" class="site-link" target="_blank" rel="noopener"><span class="dot" style="background:#ff5f1f;"></span>spunk.bet</a>
  <a href="https://predict.pics" class="site-link" target="_blank" rel="noopener"><span class="dot" style="background:#a855f7;"></span>predict.pics</a>
</div>

<div class="chat-container">
  <div class="welcome" id="welcome">
    <div class="welcome-icon">üÉè</div>
    <h1>Poker<span class='gr'>Bot</span></h1>
    <p>AI-powered poker strategy coach. Analyze hands, calculate odds, learn position play, and improve your game. Your personal poker AI.</p>
    <div class="examples">
      <button class="example-btn" onclick="askExample(this.textContent)">I have pocket Jacks ‚Äî UTG raises, should I 3-bet or call?</button>
      <button class="example-btn" onclick="askExample(this.textContent)">What are the odds of hitting a flush draw on the river?</button>
      <button class="example-btn" onclick="askExample(this.textContent)">Best strategy for 6-max cash games as a beginner</button>
      <button class="example-btn" onclick="askExample(this.textContent)">How to read poker tells at a live table</button>
    </div>
  </div>
  <div class="messages" id="messages"></div>
  <div class="input-area">
    <div class="input-wrap">
      <input type="text" id="userInput" placeholder="e.g., I have AK suited on the button, UTG raises 3x ‚Äî what do I do?" autocomplete="off">
      <button class="send-btn" id="sendBtn" onclick="sendMessage()">Ask PokerBot</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="paywallModal" onclick="if(event.target===this)closePaywall()">
  <div class="modal">
    <div class="modal-close" onclick="closePaywall()">&#10005;</div>
    <h2>üÉè Unlock Unlimited PokerBot</h2>
    <p>You've used your 3 free daily queries. Upgrade for unlimited access.</p>
    <div class="pricing-cards">
      <div class="price-card" onclick="selectPlan('day')" id="planDay">
        <div class="pc-price">$2.99</div>
        <span class="pc-period">24-hour pass</span>
        <div class="pc-desc">Unlimited for today</div>
      </div>
      <div class="price-card featured" onclick="selectPlan('month')" id="planMonth">
        <div class="pc-price">$9.99</div>
        <span class="pc-period">per month</span>
        <div class="pc-desc">Unlimited across ALL bots</div>
      </div>
    </div>
    <button class="pay-btn pay-btn-stripe" onclick="payStripe()">Pay with Card</button>
    <button class="pay-btn pay-btn-crypto" onclick="toggleCrypto()">Pay with Crypto</button>
    <div class="crypto-details" id="cryptoDetails">
      <div class="crypto-label">Bitcoin (BTC)</div>
      <div class="crypto-addr" onclick="copyAddr(this)" title="Click to copy">bc1pkepg42ctsvsxk499qu02qqyyz88gwjchnjpsu22wmng9rhpfv3jqw2t2hm</div>
      <div class="crypto-label">Ethereum (ETH)</div>
      <div class="crypto-addr" onclick="copyAddr(this)" title="Click to copy">0xD2aC89253b5F20f5b03b5B591297Fa4FCC37d41c</div>
      <div style="font-size:0.65rem;color:var(--muted);margin-top:0.5rem;">Send exact amount + email us at contact@spunkart.com for activation</div>
    </div>
    <div class="modal-ref">
      Share &amp; earn! <a href="#" onclick="shareRef();return false;">Get your referral link</a> ‚Äî 5 free uses for you and your friend.
    </div>
  </div>
</div>

<footer class="footer">
  <div class="footer-links" style="margin-bottom:0.3rem">
    <a href="https://aibot.beer">aibot.beer</a>
    <a href="https://aibot.coupons">aibot.coupons</a>
    <a href="https://aibot.courses">aibot.courses</a>
    <a href="https://aibot.tattoo">aibot.tattoo</a>
    <a href="https://aibot.garden">aibot.garden</a>
    <a href="https://aibot.study">aibot.study</a>
    <a href="https://aibot.poker">aibot.poker</a>
    <a href="https://aibot.rest">aibot.rest</a>
    <a href="https://aibot.delivery">aibot.delivery</a>
    <a href="https://aibot.directory">aibot.directory</a>
    <a href="https://aibot.forum">aibot.forum</a>
    <a href="https://aibot.gay">aibot.gay</a>
    <a href="https://betai.buzz">betai.buzz</a>
  </div>
  <div class="footer-links" style="margin-bottom:0.3rem;font-size:0.6rem">
    <a href="https://predict.pics">predict.pics</a>
    <a href="https://predict.horse">predict.horse</a>
    <a href="https://scam.video">scam.video</a>
    <a href="https://stimulant.wiki">stimulant.wiki</a>
    <a href="https://spunk.bet" style="color:#ff5f1f">spunk.bet</a>
    <a href="https://spunkart.com">spunkart.com</a>
  </div>
  <div class="footer-links">
    <a href="https://stake.com/?c=MyXSehCn" target="_blank" rel="noopener sponsored" style="color:#1475e1;font-weight:700;">Stake.com</a>
    <a href="https://shuffle.com?r=q94atl9m05" target="_blank" rel="noopener sponsored" style="color:#7c3aed;font-weight:700;">Shuffle</a>
    <a href="https://stake.us/?c=L2a8nG6c" target="_blank" rel="noopener sponsored" style="color:#00c74d;font-weight:600;">Stake.us</a>
    <a href="https://winna.com/?r=Spunkeroo" target="_blank" rel="noopener sponsored" style="color:#ff5f1f;font-weight:600;">Winna.com</a>
    <a href="https://www.888poker.com/" target="_blank" rel="noopener sponsored" style="color:#e5a100;font-weight:600;">888poker</a>
    <a href="https://coinbase.com/join/YAGES3X" target="_blank" rel="noopener sponsored" style="color:#0052ff;font-weight:600;">Buy Crypto</a>
    <a href="https://shop.ledger.com/?r=0553c9ea1441" target="_blank" rel="noopener sponsored" style="color:#ff5500;font-weight:600;">Secure Crypto</a>
    <a href="https://kalshi.com/sign-up/?referral=6b723b42-d0c9-4421-9b4e-5af4b4c6c42c" target="_blank" rel="noopener sponsored" style="color:#00d084;font-weight:600;">Kalshi</a>
    <a href="https://customgpt.ai/?fpr=spunk" target="_blank" rel="noopener sponsored" style="color:#06b6d4;font-weight:600;">CustomGPT</a>
    <a href="https://everyx.io/register?ref=AYHl4YqvjcaX" target="_blank" rel="noopener sponsored" style="color:#a855f7;font-weight:600;">EveryX</a>
    <a href="https://x.com/SpunkArt13" target="_blank" rel="noopener noreferrer">@SpunkArt13</a>
  </div>
  <div class="footer-copy">&copy; 2026 aibot.poker ‚Äî PokerBot by @SpunkArt13 | <a href="https://spunkart.com">SpunkArt.com</a></div>
  <div style="max-width:500px;margin:2rem auto;padding:1.5rem;background:#0a0a12;border:1px solid #1a1a2e;border-radius:12px;text-align:center;">
    <h3 style="margin:0 0 0.5rem;font-size:1rem;color:#e8e8f0;">Stay Updated</h3>
    <p style="margin:0 0 1rem;font-size:0.8rem;color:#8888a0;">Get the latest tips, deals, and updates. No spam, ever.</p>
    <iframe loading="lazy" sandbox="allow-scripts allow-forms allow-same-origin" src="https://embeds.beehiiv.com/6831d05b-f121-4e0d-951b-16f88ddd9ec3?slim=true" data-test-id="beehiiv-embed" height="52" frameborder="0" scrolling="no" style="margin:0;border-radius:8px;background-color:transparent;width:100%;max-width:400px;"></iframe>
  </div>
</footer>

<script>
const BOT_NAME = 'PokerBot';
const DOMAIN = 'aibot.poker';
const SLUG = 'poker';
const SHARE_TEXT = 'PokerBot just leveled up my poker game! AI strategy coach is legit!';
const FREE_USES = 3;
const REFERRAL_BONUS = 5;

function getToday(){return new Date().toISOString().split('T')[0];}
function getUsage(){const d=JSON.parse(localStorage.getItem('aibot_usage')||'{}');if(d.date!==getToday()){d.date=getToday();d.count=0;localStorage.setItem('aibot_usage',JSON.stringify(d));}return d;}
function incrementUsage(){const d=getUsage();d.count++;localStorage.setItem('aibot_usage',JSON.stringify(d));updateUsageDisplay();return d.count;}
function getRemainingUses(){const d=getUsage();const b=parseInt(localStorage.getItem('aibot_bonus')||'0');return FREE_USES+b-d.count;}
function isPaid(){const s=JSON.parse(localStorage.getItem('aibot_subscription')||'{}');if(s.type==='month'&&new Date(s.expires)>new Date())return true;if(s.type==='day'&&new Date(s.expires)>new Date())return true;return false;}
function updateUsageDisplay(){const d=getUsage();const b=parseInt(localStorage.getItem('aibot_bonus')||'0');document.getElementById('useCount').textContent=d.count;document.getElementById('useMax').textContent=isPaid()?'\u221e':FREE_USES+b;}

const messagesEl=document.getElementById('messages');
const welcomeEl=document.getElementById('welcome');
const inputEl=document.getElementById('userInput');
const sendBtn=document.getElementById('sendBtn');


function sanitizeHTML(str) {
  const div = document.createElement('div');
  div.textContent = str;
  let safe = div.innerHTML;
  // Allow only safe formatting tags
  safe = safe.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
  safe = safe.replace(/\n- /g, '\n\u2022 ');
  safe = safe.replace(/\n\n/g, '<br><br>');
  safe = safe.replace(/\n/g, '<br>');
  // Allow safe links (only our domains)
  safe = safe.replace(/&lt;a href=&quot;(https:\/\/(stake\.com|shuffle\.com|winna\.com|coinbase\.com|shop\.ledger\.com|kalshi\.com|everyx\.io|aibot\.[a-z]+|spunk\.bet|predict\.[a-z]+|scam\.[a-z]+|stimulant\.[a-z]+|betai\.buzz|customgpt\.ai)[^&]*?)&quot;[^&]*?&gt;([^&]*?)&lt;\/a&gt;/g, '<a href="$1" target="_blank" rel="noopener">$3</a>');
  return safe;
}

function askExample(text){inputEl.value=text;sendMessage();}

async function sendMessage(){
  const text=inputEl.value.trim();if(!text)return;
  if(!isPaid()&&getRemainingUses()<=0){showPaywall();return;}
  welcomeEl.style.display='none';
  addMessage(text,'user');inputEl.value='';sendBtn.disabled=true;
  const typingEl=showTyping();incrementUsage();
  try{const r=await generateResponse(text);typingEl.remove();addBotMessage(r);}
  catch(e){typingEl.remove();addBotMessage("Sorry, I'm having trouble right now. Please try again.");}
  sendBtn.disabled=false;inputEl.focus();
}

function addMessage(text,type){const m=document.createElement('div');m.className=`msg msg-${type}`;m.textContent=text;messagesEl.appendChild(m);messagesEl.scrollTop=messagesEl.scrollHeight;}

function addBotMessage(text){
  const m=document.createElement('div');m.className='msg msg-bot';
  let f=sanitizeHTML(text);
  m.innerHTML=`<div>${f}</div><div class="msg-actions"><button class="msg-action" onclick="shareOnX()">Share on X</button><button class="msg-action" onclick="copyResponse(this)">Copy</button></div>`;
  messagesEl.appendChild(m);messagesEl.scrollTop=messagesEl.scrollHeight;
}

function showTyping(){const t=document.createElement('div');t.className='typing';t.innerHTML='<span></span><span></span><span></span>';messagesEl.appendChild(t);messagesEl.scrollTop=messagesEl.scrollHeight;return t;}

async function generateResponse(q){await new Promise(r=>setTimeout(r,800+Math.random()*1200));return generateSmartResponse(q);}

function generateSmartResponse(query){
  const q=query.toLowerCase();const responses=getResponses();
  let bestMatch=null,bestScore=0;
  for(const [keywords,response] of responses){
    const score=keywords.filter(k=>q.includes(k)).length;
    if(score>bestScore){bestScore=score;bestMatch=response;}
  }
  if(bestMatch)return bestMatch;
  return generateContextualResponse(query);
}

function getResponses(){
  return [

  [["odds", "equity", "probability", "chances", "outs", "math"], `**Poker Odds & Equity Reference**\n\n**Common Draw Odds (on the flop):**\n- Flush draw (9 outs): 35% by river, 19% next card\n- Open-ended straight draw (8 outs): 32% by river, 17% next card\n- Gutshot straight draw (4 outs): 17% by river, 9% next card\n- Two overcards (6 outs): 24% by river, 13% next card\n- Set with pocket pair (2 outs): 8.4% by river\n\n**The Rule of 2 and 4:**\n- Outs x 4 = approximate % to hit by river (from flop)\n- Outs x 2 = approximate % on next card\n\n**Pot Odds Example:**\n- Pot is $100, opponent bets $50\n- You need to call $50 to win $150\n- Pot odds = 50/150 = 33%\n- If your equity > 33%, it's a profitable call\n\n**Pre-Flop Equity Matchups:**\n- AA vs KK: 82% vs 18%\n- AA vs random: 85% vs 15%\n- AKs vs QQ: 46% vs 54%\n- Pair vs two overcards: ~55% vs 45%\n- Pair vs underpair: ~80% vs 20%\n\n**Pro Tip:** Implied odds matter too ‚Äî if you hit your draw, how much more can you win?`],
  [["preflop", "hand", "range", "position", "open", "raise"], `**Pre-Flop Strategy Guide**\n\n**Opening Ranges by Position:**\n\n**UTG (Tightest):** ~12%\n- Raise: AA-99, AKs-ATs, KQs, AKo-AQo\n\n**MP:** ~16%\n- Add: 88-77, A9s-A7s, KJs, QJs, AJo, KQo\n\n**CO (Cutoff):** ~25%\n- Add: 66-22, suited connectors (76s+), suited aces, KTo+\n\n**BTN (Button):** ~35-40%\n- Add: any suited ace, any suited connector, most broadways, K9o+\n\n**SB:** ~30% (mostly 3-bet or fold)\n\n**BB:** Defend wide (getting best price)\n\n**3-Betting Ranges:**\n- For value: QQ+, AKs, AKo\n- As bluff: A5s-A2s, KJs, suited connectors\n- Size: 3x their raise (in position), 4x (out of position)\n\n**Key Principles:**\n- Position > hand strength\n- Tight from early, wide from late\n- 3-bet polarized (strong hands + some bluffs)\n- Don't limp ‚Äî raise or fold\n\n**Play where the money is:** Sign up at <a href="https://stake.com/?c=MyXSehCn" target="_blank" style="color:#1475e1;font-weight:bold;">Stake.com</a> for crypto poker!`],
  [["bluff", "bluffing", "semi-bluff", "bet sizing", "sizing", "continuation bet", "cbet"], `**Bluffing & Bet Sizing Guide**\n\n**When to Bluff:**\n- You have a tight image (opponents will believe you)\n- The board favors YOUR range (not theirs)\n- You have blockers (holding cards they need)\n- Few opponents (never bluff 3+ players)\n- You have a backup plan (semi-bluff with draws)\n\n**Semi-Bluff:** Bet with a draw (flush draw, straight draw). You win if they fold OR if you hit.\n\n**Bet Sizing Guide:**\n\n**Pre-Flop:**\n- Open raise: 2.5-3x BB\n- 3-bet: 3x their raise (IP), 4x (OOP)\n\n**Post-Flop (% of pot):**\n- Small (25-33%): Dry boards, thin value, range bets\n- Medium (50-66%): Standard, balanced betting\n- Large (75-100%): Wet boards, polarized ranges, big draws\n- Overbet (100%+): Polarized (nuts or bluff), river plays\n\n**C-Bet (Continuation Bet):**\n- Bet 50-66% of pot on most flops as pre-flop raiser\n- More on dry boards (A72), less on wet boards (JT9)\n- Check more often in multi-way pots\n\n**Golden Rule:** Your bluffs should tell a consistent story. If the line doesn't make sense, good players will catch you.`],
  [["tournament", "tourney", "mtt", "sit and go", "sng", "bubble", "icm"], `**Tournament Strategy Guide**\n\n**Early Stage (Deep Stacks, 100+ BB):**\n- Play tight, build reads\n- Small ball poker (small bets, controlled pots)\n- Don't go broke with one pair\n- Implied odds are great ‚Äî set mine with small pairs\n\n**Middle Stage (30-60 BB):**\n- Open up your range\n- Steal blinds from late position\n- Re-steal light from the blinds\n- Avoid marginal spots\n\n**Bubble (Near the Money):**\n- Big stacks: Bully short stacks aggressively\n- Short stacks: Tighten up dramatically, survive\n- Medium stacks: Avoid big confrontations with other mediums\n- ICM pressure is real ‚Äî chips you lose are worth more than chips you gain\n\n**Final Table:**\n- Pay attention to pay jumps\n- Pressure short stacks\n- Heads-up: Aggression is king\n\n**Key Tournament Concepts:**\n- **ICM**: Independent Chip Model ‚Äî your chips have different dollar values at different stages\n- **Push/Fold**: Under 10 BB, you're either all-in or folding\n- **ROI**: Track your return on investment, not individual finishes`],
  [["tell", "tells", "read", "live", "body language", "physical"], `**Live Poker Tells Guide**\n\n**Reliable Tells:**\n\n**Strength Indicators (They have a good hand):**\n- Staring at their chips after seeing the flop\n- Quick call (they don't need to think)\n- Sitting up straighter, leaning forward\n- Steady, relaxed breathing\n- Protecting their cards more carefully\n\n**Weakness Indicators (They're bluffing):**\n- Staring directly at you (trying to intimidate)\n- Talking more than usual\n- Shaky hands (adrenaline from bluffing)\n- Holding breath or shallow breathing\n- Looking away, feigning disinterest then betting big\n- Over-the-top confident chip placement\n\n**Betting Pattern Tells (More Reliable):**\n- Instant check = weak\n- Bet-then-lean-back = usually strong\n- Unusual bet size = something abnormal\n- Min-raise = usually strong (trap)\n- Quick large bet = often bluff\n\n**Counter-Strategy:**\n- Be consistent in YOUR actions\n- Use a card protector (eliminates a tell)\n- Same chip motion every time\n- Talk the same amount regardless of hand\n- Sunglasses + hoodie = classic but effective`],
  [["cash game", "cash", "ring game", "deep stack", "bankroll", "buy in"], `**Cash Game Strategy**\n\n**Bankroll Management:**\n- 20 buy-ins minimum for your stake\n- 30+ buy-ins if games are tough\n- Move DOWN if you lose 5+ buy-ins\n- Move UP when you have 30+ buy-ins for next level\n\n**Stakes Guide:**\n- $0.01/0.02 (micro): Learning the basics\n- $0.05/0.10: Developing fundamentals\n- $0.25/0.50: Intermediate play\n- $0.50/1.00: Solid strategy required\n- $1/2+: You need to be consistently profitable\n\n**6-Max vs Full Ring:**\n- 6-max: More action, wider ranges, more aggression\n- Full ring (9-max): Tighter, more positional\n- 6-max is more popular and profitable (more hands/hour)\n\n**Key Cash Game Tips:**\n1. Don't play scared money\n2. Table select ‚Äî find the weakest table\n3. Position is everything\n4. Top pair + good kicker is often the best hand\n5. Don't bluff calling stations\n6. Leave when tilted ‚Äî the game will be there tomorrow\n\n**Where to Play:** <a href="https://stake.com/?c=MyXSehCn" target="_blank" style="color:#1475e1;font-weight:bold;">Stake.com</a> has great crypto poker tables!`],
  [["beginner", "new", "start", "learn", "basic", "rule", "how to play"], `**Poker Beginner's Guide**\n\n**Hand Rankings (Best to Worst):**\n1. Royal Flush: A K Q J 10 (same suit)\n2. Straight Flush: Five consecutive, same suit\n3. Four of a Kind: Four same cards\n4. Full House: Three of a kind + pair\n5. Flush: Five same suit\n6. Straight: Five consecutive\n7. Three of a Kind: Three same cards\n8. Two Pair: Two different pairs\n9. One Pair: Two same cards\n10. High Card: Nothing\n\n**Game Flow (Texas Hold'em):**\n1. Two players post blinds\n2. Each player gets 2 hole cards\n3. Betting round (pre-flop)\n4. 3 community cards dealt (flop) ‚Üí bet\n5. 1 card (turn) ‚Üí bet\n6. 1 card (river) ‚Üí bet\n7. Best 5-card hand wins\n\n**Top 5 Beginner Tips:**\n1. Play tight ‚Äî fold most hands\n2. Position matters ‚Äî act last = advantage\n3. Don't call too much ‚Äî raise or fold\n4. Pay attention even when not in a hand\n5. Start at the lowest stakes\n\n**Practice free:** Start at micro stakes on <a href="https://stake.com/?c=MyXSehCn" target="_blank" style="color:#1475e1;font-weight:bold;">Stake.com</a>`]

  ];
}


function generateContextualResponse(query) {
  const q = query.toLowerCase();
  if (q.match(/\b(a[2-9akqjt]|k[2-9qjt]|q[2-9jt]|j[2-9t]|[2-9][2-9])\b/i) || q.match(/pocket|pair|suited|offsuit/)) {
    return `**Hand Analysis: "${query.substring(0,60)}"**\n\nHere's my quick analysis:\n\n**General Principles for Hand Decisions:**\n1. **Position matters most** ‚Äî the same hand plays differently UTG vs BTN\n2. **Stack depth** ‚Äî short stack = push/fold, deep = more playability\n3. **Opponent tendencies** ‚Äî tight players = wider defense, loose = tighter\n4. **Table dynamics** ‚Äî has anyone 3-bet recently? Are blinds tight?\n\n**Quick Decision Framework:**\n- Premium (AA-QQ, AKs): Always raise/3-bet\n- Strong (JJ-99, AQs-ATs, KQs): Raise, 3-bet for value sometimes\n- Playable (88-22, suited connectors, suited aces): Position-dependent\n- Marginal (offsuit broadways, weak suited): Only from late position\n\n**For a more specific answer, tell me:**\n- Your position (UTG, MP, CO, BTN, SB, BB)\n- Action before you (open, facing raise, facing 3-bet)\n- Stack sizes\n- Number of players\n\nThe more context, the better my advice! Play and practice at <a href="https://stake.com/?c=MyXSehCn" target="_blank" style="color:#1475e1;font-weight:bold;">Stake.com</a>`;
  }
  return `**PokerBot's Take: "${query.substring(0,60)}"**\n\nGreat poker question! Here's my general advice:\n\n**Core Poker Principles:**\n1. **Position is power** ‚Äî act last whenever possible\n2. **Aggression wins** ‚Äî betting and raising > calling\n3. **Bankroll management** ‚Äî never risk more than 5% on one session\n4. **Emotional control** ‚Äî tilt is your #1 enemy\n5. **Study off the table** ‚Äî review hands, watch training videos\n\n**I can help with:**\n- "Analyze my hand: [describe the situation]"\n- "What are my odds with [draw type]?"\n- "Best strategy for [game type]"\n- "How to beat [player type]"\n- "Bankroll management for [stakes]"\n\n**Free Resources:**\n- PokerStove/Equilab (equity calculator)\n- Jonathan Little's YouTube channel\n- Upswing Poker free articles\n\n**Ready to play?** <a href="https://stake.com/?c=MyXSehCn" target="_blank" style="color:#1475e1;font-weight:bold;">Stake.com</a> ‚Äî crypto poker with instant cashouts!`;
}

function shareOnX(){const t=`${SHARE_TEXT}\n\nTry it free: https://${DOMAIN}?ref=${getRefCode()}\n\n@SpunkArt13`;window.open(`https://x.com/intent/tweet?text=${encodeURIComponent(t)}`,'_blank');if(typeof gtag==='function')gtag('event','share_x',{bot:SLUG});}
function copyResponse(btn){const t=btn.closest('.msg-bot').querySelector('div').textContent;navigator.clipboard.writeText(t).then(()=>{btn.textContent='Copied!';setTimeout(()=>btn.textContent='Copy',2000);});}
function getRefCode(){let c=localStorage.getItem('aibot_ref_code');if(!c){c=SLUG+'_'+Math.random().toString(36).substring(2,10);localStorage.setItem('aibot_ref_code',c);}return c;}
function shareRef(){const u=`https://${DOMAIN}?ref=${getRefCode()}`;navigator.clipboard.writeText(u).then(()=>alert('Referral link copied! Share it to earn 5 bonus uses.'));}

(function checkRef(){const p=new URLSearchParams(window.location.search);const r=p.get('ref');if(r&&!localStorage.getItem('aibot_ref_used')){const b=parseInt(localStorage.getItem('aibot_bonus')||'0');localStorage.setItem('aibot_bonus',b+REFERRAL_BONUS);localStorage.setItem('aibot_ref_used',r);if(typeof gtag==='function')gtag('event','referral_activated',{ref_code:r,bot:SLUG});}})();

let selectedPlan='month';
function showPaywall(){document.getElementById('paywallModal').classList.add('active');selectPlan('month');}
function closePaywall(){document.getElementById('paywallModal').classList.remove('active');}
function selectPlan(p){selectedPlan=p;document.getElementById('planDay').style.borderColor=p==='day'?'var(--accent)':'var(--border)';document.getElementById('planMonth').style.borderColor=p==='month'?'var(--accent)':'var(--border)';}
function payStripe(){alert('Stripe payments coming soon! For now, use crypto or contact @SpunkArt13 on X.');}
function toggleCrypto(){document.getElementById('cryptoDetails').classList.toggle('active');}
function copyAddr(el){navigator.clipboard.writeText(el.textContent).then(()=>{const o=el.textContent;el.textContent='Copied!';setTimeout(()=>el.textContent=o,2000);});}

updateUsageDisplay();
inputEl.addEventListener('keydown',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}});

const urlParams=new URLSearchParams(window.location.search);
const ref=urlParams.get('ref');
if(ref){localStorage.setItem('aibot_ref',ref);if(typeof gtag==='function')gtag('event','referral_visit',{referral_code:ref,source:SLUG});}
</script>
</body>
</html>